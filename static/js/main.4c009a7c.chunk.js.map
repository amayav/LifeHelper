{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["IdolsTable","columns","data","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","i","getRowProps","cells","cell","getCellProps","Table","PERFECT_SUPPORT_3","PERFECT_SUPPORT_2","PERFECT_SUPPORT_1","DAMAGE_GUARD","SKILL_BOOST","ENCORE","CINDERELLA_MAGIC","Idol","props","handleListBoxNameChange","e","changeName","id","target","value","handleInputBoxIntervalChange","changeInterval","Number","handleListBoxTimeChange","changeTime","bind","name","this","onChange","skill","type","min","placeholder","interval","time","React","Component","Idols","last_activated_skill_id","current_encore_id_list","idolsData","idol1","idol2","idol3","idol4","idol5","start","perfect","guard","handleChangeMusicTime","new_music_time","setState","music_time","console","log","update","state","skills","is_resonance","default_skill","current_time","is_activated","skillTimes","is_just_activated","being_activated_skills_name","j","push","display","encore_id","toFixed","includes","perfect_support_3_count","filter","length","perfect_support_2_count","perfect_support_1_count","total_perfect_support_count","is_perfect","new_skills","timeList","Array","_i","startTime","updateTimeLine","new_skill","handleChange","new_is_resonance","checked","CenterList","CheckBoxTemplate","CheckBox","item","index","htmlFor","Header","accessor","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c009a7c.chunk.js","sourcesContent":["//import React, {useMemo, useState} from 'react';\nimport React from 'react';\nimport { useTable, Column } from 'react-table';\n//import logo from './logo.svg';\nimport './App.css';\n\nexport interface IdolsData {\n  idol1: any;\n  idol2: any;\n  idol3: any;\n  idol4: any;\n  idol5: any;\n}\nexport interface Data {\n  start: string;\n  idol1: string;\n  idol2: string;\n  idol3: string;\n  idol4: string;\n  idol5: string;\n  perfect: string;\n  guard: string;\n}\n\nfunction IdolsTable ({ columns, data } : { columns: Column<IdolsData>[], data: IdolsData[] } ) : any {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable<IdolsData>({ columns, data });\n\n  return(\n    <table {...getTableProps()}>\n    <thead>\n    {headerGroups.map(headerGroup => (\n      <tr {...headerGroup.getHeaderGroupProps()}>\n      {headerGroup.headers.map(column => (\n        <th {...column.getHeaderProps()}>\n        {column.render(\"Header\")}</th>\n      ))}\n      </tr>\n    ))}\n    </thead>\n    <tbody {...getTableBodyProps()}>\n    {rows.map((row, i) => {\n      prepareRow(row);\n      return (\n        <tr {...row.getRowProps()}>\n        {row.cells.map(cell => {\n          return (\n            <td {...cell.getCellProps()}>\n            {cell.render(\"Cell\")}</td>\n          )\n        })}\n        </tr>\n      );\n    })}\n    </tbody>\n    </table>\n  )\n}\n\nfunction Table ({ columns, data } : { columns: Column<Data>[], data: Data[] } ) : any {\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable<Data>({ columns, data });\n\n  return(\n    <table {...getTableProps()}>\n    <thead>\n    {headerGroups.map(headerGroup => (\n      <tr {...headerGroup.getHeaderGroupProps()}>\n      {headerGroup.headers.map(column => (\n        <th {...column.getHeaderProps()}>\n        {column.render(\"Header\")}</th>\n      ))}\n      </tr>\n    ))}\n    </thead>\n    <tbody {...getTableBodyProps()}>\n    {rows.map((row, i) => {\n      prepareRow(row);\n      return (\n        <tr {...row.getRowProps()}>\n        {row.cells.map(cell => {\n          return (\n            <td {...cell.getCellProps()}>\n            {cell.render(\"Cell\")}</td>\n          )\n        })}\n        </tr>\n      );\n    })}\n    </tbody>\n    </table>\n  )\n}\n\nexport type Skill = {\n  name: string,\n  interval: number,\n  time: string\n}\n\ninterface Props {\n  skill: Skill,\n    id: number,\n    changeName: (id: number, time: string) => void\n    changeInterval: (id: number, interval: number) => void\n    changeTime: (id: number, time: string) => void\n}\nexport const PERFECT_SUPPORT_3=\"perfect_support_3\"\nexport const PERFECT_SUPPORT_2=\"perfect_support_2\"\nexport const PERFECT_SUPPORT_1=\"perfect_support_1\"\nexport const DAMAGE_GUARD=\"damage_guard\"\nexport const SKILL_BOOST=\"skill_boost\"\nexport const ENCORE=\"encore\"\nexport const CINDERELLA_MAGIC=\"cinderella_magic\"\nexport const OTHER=\"other\"\n\nclass Idol extends React.Component<Props, {}> {\n  constructor(props: Props) {\n    super(props)\n    this.handleListBoxNameChange = this.handleListBoxNameChange.bind(this)\n    this.handleInputBoxIntervalChange = this.handleInputBoxIntervalChange.bind(this)\n    this.handleListBoxTimeChange = this.handleListBoxTimeChange.bind(this)\n  }\n\n  private handleListBoxNameChange = (e: React.ChangeEvent<HTMLSelectElement>) : any => {\n    this.props.changeName(this.props.id, e.target.value)\n  }\n\n  private handleInputBoxIntervalChange = (e: React.ChangeEvent<HTMLInputElement>) : any => {\n    this.props.changeInterval(this.props.id, Number(e.target.value))\n  }\n\n  private handleListBoxTimeChange = (e: React.ChangeEvent<HTMLSelectElement>) : any => {\n    this.props.changeTime(this.props.id, e.target.value)\n  }\n\n  render() {\n    return (\n      <>\n      <select name={`skill_name_${this.props.id}`} id={`skill_id_${this.props.id}`} onChange={this.handleListBoxNameChange} value={this.props.skill.name}>\n      <option value={PERFECT_SUPPORT_3}>SSR パーフェクトサポート</option>\n      <option value={PERFECT_SUPPORT_2}>SR パーフェクトサポート</option>\n      <option value={PERFECT_SUPPORT_1}>R パーフェクトサポート</option>\n      <option value={DAMAGE_GUARD}>ダメージガード</option>\n      <option value={SKILL_BOOST}>スキルブースト</option>\n      <option value={ENCORE}>アンコール</option>\n      <option value={CINDERELLA_MAGIC}>シンデレラマジック</option>\n      <option value={OTHER}>その他</option>\n      </select>\n\n        <input type=\"number\" id={`interval_id_${this.props.id}`} name={`interval_name_${this.props.id}`} min=\"1\" placeholder=\"4\" onChange={this.handleInputBoxIntervalChange} value={this.props.skill.interval}/>\n        秒ごと\n\n          <select name={`time_name_${this.props.id}`} id={`time_id_${this.props.id}`} onChange={this.handleListBoxTimeChange} value={this.props.skill.time}>\n          <option value=\"time_a\">一瞬の間</option>\n          <option value=\"time_b\">わずかな間</option>\n          <option value=\"time_c\">少しの間</option>\n          <option value=\"time_d\">しばらくの間</option>\n          <option value=\"time_e\">かなりの間</option>\n        </select>\n      </>\n    )\n  }\n}\n\nexport class Idols extends React.Component <{}, {skills: Skill[], music_time: number, is_resonance: boolean}> {\n  constructor(props: any) {\n    super(props)\n    const default_skill : Skill = {\n      name: PERFECT_SUPPORT_3,\n      interval: 8,\n      time: \"time_b\"\n    }\n    this.state = {\n      skills: [default_skill, default_skill, default_skill, default_skill, default_skill],\n      music_time: 120,\n      is_resonance: false,\n    }\n    this.changeName = this.changeName.bind(this)\n    this.changeInterval = this.changeInterval.bind(this)\n    this.changeTime = this.changeTime.bind(this)\n    this.handleChangeMusicTime = this.handleChangeMusicTime.bind(this)\n  }\n  last_activated_skill_id: number = -1\n  current_encore_id_list: number[] = [-1, -1, -1, -1, -1]\n\n  idolsData : IdolsData = { idol1:null, idol2:null, idol3:null, idol4:null, idol5:null, }\n\n  data : Data[] = [ {start: \"*\", idol1: \"*\", idol2:\"*\", idol3:\"*\", idol4:\"*\", idol5:\"*\", perfect:\"*\", guard:\"*\" } ]\n\n  protected updateTimeLine(current_time: number, skills: Skill[], music_time: number, is_resonance: boolean) : Data {\n    function is_activated(current_time: number, skill: Skill): boolean {\n      /*\n       * skill is activated after skill interval\n       * skill isn't activated the last 3 (not includes just 3) seconds of music (time when the last note is)\n       */\n      return (\n        (current_time >= skill.interval) &&\n        (((current_time - skill.interval) % skill.interval) <= skillTimes[skill.time]) &&\n        ((current_time - ((current_time - skill.interval) % skill.interval)) <= (music_time - 3))\n      )\n    }\n\n    function is_just_activated(current_time: number, skill: Skill): boolean {\n      return (\n        (current_time >= skill.interval) &&\n        (((current_time - skill.interval) % skill.interval) === 0) &&\n        (current_time <= (music_time - 3))\n      )\n    }\n\n    let being_activated_skills_name: string[] = []\n    /*\n    let perfect_support_count = 0\n    let skill_boost_count = 0\n    */\n\n    /* define skill encore uses */\n    for (let i=4; i>=0; i--) {\n      if ((skills[i].name === ENCORE) &&\n        (is_just_activated(current_time, skills[i])) &&\n        (this.last_activated_skill_id !== -1)) {\n        this.current_encore_id_list[i] = this.last_activated_skill_id\n      }\n    }\n\n    /* listing up activated skills */\n    for (let i=4; i>=0; i--) {\n      if (!is_activated(current_time, skills[i])) {\n        continue\n      }\n      if (skills[i].name === ENCORE) {\n        // at least one skill other than encore should be activated\n        if (this.current_encore_id_list[i] === -1) {\n          continue\n        }\n        if ((skills[this.current_encore_id_list[i]].name) === CINDERELLA_MAGIC) {\n          for (let j=4; j>=0; j--) {\n            being_activated_skills_name.push(skills[j].name)\n          }\n        } else {\n          being_activated_skills_name.push(skills[this.current_encore_id_list[i]].name)\n        }\n      } else {\n        if (skills[i].name === CINDERELLA_MAGIC) {\n          for (let j=4; j>=0; j--) {\n            being_activated_skills_name.push(skills[j].name)\n          }\n        } else {\n          being_activated_skills_name.push(skills[i].name)\n        }\n\n        /* calculate the last activated skill's id for the next 0.5 sec */\n        /* encore does not copy the skills activated at the same time */\n        if (is_just_activated(current_time, skills[i])) {\n          this.last_activated_skill_id = i\n        }\n      }\n    }\n\n    function is_perfect(is_resonance: boolean): boolean {\n      if (is_resonance === false) {\n        return being_activated_skills_name.includes(PERFECT_SUPPORT_3) &&\n          being_activated_skills_name.includes(SKILL_BOOST)\n      }\n      const perfect_support_3_count: number =\n        (being_activated_skills_name.filter(name => name === PERFECT_SUPPORT_3)).length\n      const perfect_support_2_count: number =\n        (being_activated_skills_name.filter(name => name === PERFECT_SUPPORT_2)).length\n      const perfect_support_1_count: number =\n        (being_activated_skills_name.filter(name => name === PERFECT_SUPPORT_1)).length\n\n      let total_perfect_support_count: number =\n        perfect_support_3_count*3 + perfect_support_2_count*2 + perfect_support_1_count*1\n      if (total_perfect_support_count > 0) {\n        const skill_boost_count: number = (being_activated_skills_name.filter(name => name === SKILL_BOOST)).length\n        total_perfect_support_count += skill_boost_count\n      }\n      console.log(\"aaa \" + total_perfect_support_count.toFixed(0) + \" \" + perfect_support_3_count.toFixed(0) + \" \" + perfect_support_2_count.toFixed(0) + \" \" + perfect_support_1_count.toFixed(0))\n      return (total_perfect_support_count >= 4)\n    }\n\n    function is_guard(): boolean {\n      return being_activated_skills_name.includes(DAMAGE_GUARD)\n    }\n\n    function display(id: number, encore_id: number): string {\n      if (! is_activated(current_time, skills[id])) {\n        return \"\"\n      } else if (skills[id].name === ENCORE) {\n        if (encore_id !== -1) { // encore doesn't activate if no other skills have been activated\n          if (skills[encore_id].name === CINDERELLA_MAGIC) {\n            return \"12345\"\n          } else {\n            return (encore_id + 1).toFixed(0)\n          }\n        } else {\n          return \"\"\n        }\n      } else if (skills[id].name === CINDERELLA_MAGIC) {\n        return \"12345\"\n      } else {\n        return (id + 1).toFixed(0)\n      }\n    }\n\n    return {\n      start: current_time.toFixed(1) + \" -\",\n      idol1: display(0, this.current_encore_id_list[0]),\n      idol2: display(1, this.current_encore_id_list[1]),\n      idol3: display(2, this.current_encore_id_list[2]),\n      idol4: display(3, this.current_encore_id_list[3]),\n      idol5: display(4, this.current_encore_id_list[4]),\n      perfect: is_perfect(is_resonance) ? \"p\" : \"-\",\n      guard: is_guard() ? \"g\" : \"-\",\n    }\n  };\n\n  update (id: number, skill: Skill, music_time: number, is_resonance: boolean) {\n    let new_skills : Skill[] = this.state.skills\n    new_skills[id-1] = skill\n    this.setState({skills: new_skills})\n\n    this.last_activated_skill_id = -1\n    this.current_encore_id_list = [-1, -1, -1, -1, -1]\n    const timeList : number[] = [...Array(music_time*2)].map((_i, i) => i/2)\n\n    this.data = timeList.map(startTime => {\n      console.log(\"bbb \" + startTime.toFixed(0))\n      return this.updateTimeLine(startTime, new_skills, music_time, is_resonance)\n    })\n  }\n\n  private changeName (id: number, name: string) {\n    let new_skill = {...this.state.skills[id-1], name: name}\n    console.log(\"1\")\n    this.update(id, new_skill, this.state.music_time, this.state.is_resonance)\n  }\n\n  private changeInterval (id: number, interval: number) {\n    let new_skill: Skill = {...this.state.skills[id-1], interval: interval}\n    console.log(\"2\")\n    this.update(id, new_skill, this.state.music_time, this.state.is_resonance)\n  }\n\n  private changeTime (id: number, time: string) {\n    let new_skill: Skill = {...this.state.skills[id-1], time: time}\n    console.log(\"3\")\n    this.update(id, new_skill, this.state.music_time, this.state.is_resonance)\n  }\n\n  private handleChangeMusicTime = (e: React.ChangeEvent<HTMLInputElement>) : any => {\n    let new_music_time: number = Number(e.target.value)\n    this.setState({music_time: new_music_time})\n    console.log(\"4\")\n    this.update(0, this.state.skills[0], new_music_time, this.state.is_resonance)\n  }\n\n  render() {\n    const idolColumns : Column<IdolsData>[] = [\n        { Header: \"アイドル4特技\", accessor: \"idol4\" },\n        { Header: \"アイドル2特技\", accessor: \"idol2\" },\n        { Header: \"アイドル1特技\", accessor: \"idol1\" },\n        { Header: \"アイドル3特技\", accessor: \"idol3\" },\n        { Header: \"アイドル5特技\", accessor: \"idol5\" },\n      ]\n    const columns : Column<Data>[] = [\n        { Header: \"start\", accessor: \"start\" },\n        { Header: \"4\", accessor: \"idol4\" },\n        { Header: \"2\", accessor: \"idol2\" },\n        { Header: \"1\", accessor: \"idol1\" },\n        { Header: \"3\", accessor: \"idol3\" },\n        { Header: \"5\", accessor: \"idol5\" },\n        { Header: \"perfect\", accessor: \"perfect\" },\n        { Header: \"guard\", accessor: \"guard\" },\n      ]\n    this.idolsData = \n      {\n        idol1: <Idol skill={this.state.skills[0]} id={1} changeName={this.changeName} changeInterval={this.changeInterval} changeTime={this.changeTime}/>,\n        idol2: <Idol skill={this.state.skills[1]} id={2} changeName={this.changeName} changeInterval={this.changeInterval} changeTime={this.changeTime}/>,\n        idol3: <Idol skill={this.state.skills[2]} id={3} changeName={this.changeName} changeInterval={this.changeInterval} changeTime={this.changeTime}/>,\n        idol4: <Idol skill={this.state.skills[3]} id={4} changeName={this.changeName} changeInterval={this.changeInterval} changeTime={this.changeTime}/>,\n        idol5: <Idol skill={this.state.skills[4]} id={5} changeName={this.changeName} changeInterval={this.changeInterval} changeTime={this.changeTime}/>,\n      }\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const new_is_resonance: boolean = e.target.checked\n      this.setState({is_resonance: new_is_resonance})\n    console.log(\"5\")\n      this.update(0, this.state.skills[0], this.state.music_time, new_is_resonance)\n    };\n\n    const CenterList : string[] = [\n      \"センター効果 レゾナンス・*** 有効？\",\n    ]\n\n    const CheckBoxTemplate = ({ id, value, checked = false, onChange } : {id: string, value: string, checked: boolean, onChange: any}) => {\n      return (\n        <input\n        type=\"checkbox\"\n        id={id}\n        name=\"center\"\n        checked={checked}\n        onChange={onChange}\n        value={value}\n        />\n      )\n    }\n    const CheckBox = () => {\n      return (\n        <>\n        {CenterList.map((item, index) => {\n          index = index + 1\n          return (\n            <>\n            <label htmlFor=\"resonance\">{item}</label>\n            <CheckBoxTemplate\n            id={`center_id_${index}`}\n            value={item}\n            onChange={handleChange}\n            checked={this.state.is_resonance}\n            />\n            </>\n          )\n        })}\n        </>\n      )\n    }\n\n    return (\n      <p>\n      {CenterList.map((item, index) => {\n        index = index + 1\n        return (\n          <>\n          <CheckBox />\n          </>\n        )\n      })}\n      <IdolsTable columns={idolColumns} data={[this.idolsData]}/>\n      楽曲時間（残り3秒未満になると特技が発動しない）\n      <input\n      type=\"number\"\n      id=\"music_time\"\n      name=\"music_time\"\n      onChange={this.handleChangeMusicTime}\n      value={this.state.music_time}\n      />\n      {/*checked={checked}*/}\n      <Table columns={columns} data={this.data}/>\n      </p>\n    )\n  }\n}\n\nlet skillTimes: { [key: string]: number } = {\n  'time_a': 3.0,\n  'time_b': 4.5,\n  'time_c': 6.0,\n  'time_d': 7.5,\n  'time_e': 9.0,\n};\n\nfunction App() {\n  return (\n    <>\n    <div className=\"App\">\n    {\n    /*<header className=\"App-header\">\n       {<img src={logo} className=\"App-logo\" alt=\"logo\" />}\n       <p>\n       Edit <code>src/App.tsx</code> and save to reload.\n       </p>\n       <a\n       className=\"App-link\"\n       href=\"https://reactjs.org\"\n       target=\"_blank\"\n       rel=\"noopener noreferrer\"\n       >\n       Learn React\n       </a>\n       </header>*/\n    }\n\n    {<p>アイドルマスタースターリットシーズン好評発売中！</p>}\n    {<p>シンデレラガールズ総選挙では小早川紗枝に投票してくれますよね</p>}\n    {<p>チューニング は SR パーフェクトサポート と同じ</p>}\n    {<p>トリコロール・シンフォニー は スキルブースト と同じ</p>}\n    {<p>未対応：レゾナンス, グランドライブ, 強制パーフェクト率計算, 強制パーフェクト時間計算, 強制パーフェクト + ダメージガード率計算, 強制パーフェクト + ダッメージガード時間計算</p>}\n    <p>\n  </p>\n  {<Idols/>}\n    </div>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}